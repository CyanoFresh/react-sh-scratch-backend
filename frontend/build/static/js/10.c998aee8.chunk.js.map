{"version":3,"sources":["modules/motion-switch/index.js"],"names":["MotionSwitch","props","_this","Object","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onStateUpdate","state","setState","onMotionUpdate","motionEnabled","handleClick","core","publishJson","concat","id","handleMotionClick","name","subscribe","unsubscribe","_this$state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__","item","lg","md","sm","xs","_material_ui_core_ButtonGroup__WEBPACK_IMPORTED_MODULE_9__","variant","size","color","fullWidth","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__","onClick","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_11__","title","aria-label","_material_ui_icons_WifiTethering__WEBPACK_IMPORTED_MODULE_10___default","Component","withStyles","theme","switchButton","&:active","boxShadow","shadows","colorSwitchBase","height"],"mappings":"6NAmBMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAoBRQ,cAAgB,SAAAC,GAAK,OAAIR,EAAKS,SAAS,CAAED,WArBtBR,EAsBnBU,eAAiB,SAAAC,GAAa,OAAIX,EAAKS,SAAS,CAAEE,mBAtB/BX,EAwBnBY,YAAc,kBAAMZ,EAAKD,MAAMc,KAAKC,YAAhB,iBAAAC,OAA6Cf,EAAKQ,MAAMQ,GAAxD,aAxBDhB,EAyBnBiB,kBAAoB,kBAAMjB,EAAKD,MAAMc,KAAKC,YAAhB,iBAAAC,OAA6Cf,EAAKQ,MAAMQ,GAAxD,oBAtBxBhB,EAAKQ,MAAQ,CACXA,MAAOT,EAAMS,MACbG,cAAeZ,EAAMY,cACrBO,KAAMnB,EAAMmB,KACZF,GAAIjB,EAAMiB,IAPKhB,mFAYjBG,KAAKJ,MAAMc,KAAKM,UAAhB,iBAAAJ,OAA2CZ,KAAKK,MAAMQ,IAAMb,KAAKI,eACjEJ,KAAKJ,MAAMc,KAAKM,UAAhB,iBAAAJ,OAA2CZ,KAAKK,MAAMQ,GAAtD,WAAmEb,KAAKO,+DAIxEP,KAAKJ,MAAMc,KAAKO,YAAhB,iBAAAL,OAA6CZ,KAAKK,MAAMQ,IAAMb,KAAKI,eACnEJ,KAAKJ,MAAMc,KAAKO,YAAhB,iBAAAL,OAA6CZ,KAAKK,MAAMQ,GAAxD,WAAqEb,KAAKO,iDASnE,IAAAW,EACgClB,KAAKK,MAApCA,EADDa,EACCb,MAAOG,EADRU,EACQV,cAAeO,EADvBG,EACuBH,KAE9B,OACEI,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAClCR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,QAAQ,YACRC,KAAK,QACLC,MAAQ1B,GAASG,EAAiB,UAAY,UAC9CwB,WAAW,GAEXb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CACEF,MAAO1B,EAAQ,UAAY,UAC3B6B,QAASlC,KAAKS,aAEbM,GAGHI,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASC,MAAM,8BAA8BC,aAAW,UACtDlB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CACEF,MAAOvB,EAAgB,UAAY,UACnC0B,QAASlC,KAAKc,mBAEdK,EAAAC,EAAAC,cAACiB,EAAAlB,EAAD,iBAnDamB,aA4DZC,sBAvEA,SAAAC,GAAK,MAAK,CACvBC,aAAc,CACZC,WAAY,CACVC,UAAWH,EAAMI,QAAQ,KAG7BC,gBAAiB,CACfC,OAAQ,UAgEGP,CAAmB7C","file":"static/js/10.c998aee8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport MotionIcon from '@material-ui/icons/WifiTethering';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst styles = theme => ({\r\n  switchButton: {\r\n    '&:active': {\r\n      boxShadow: theme.shadows[2],\r\n    },\r\n  },\r\n  colorSwitchBase: {\r\n    height: 'auto',\r\n  },\r\n});\r\n\r\nclass MotionSwitch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      state: props.state,\r\n      motionEnabled: props.motionEnabled,\r\n      name: props.name,\r\n      id: props.id,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.core.subscribe(`motion-switch/${this.state.id}`, this.onStateUpdate);\r\n    this.props.core.subscribe(`motion-switch/${this.state.id}/motion`, this.onMotionUpdate);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.core.unsubscribe(`motion-switch/${this.state.id}`, this.onStateUpdate);\r\n    this.props.core.unsubscribe(`motion-switch/${this.state.id}/motion`, this.onMotionUpdate);\r\n  }\r\n\r\n  onStateUpdate = state => this.setState({ state });\r\n  onMotionUpdate = motionEnabled => this.setState({ motionEnabled });\r\n\r\n  handleClick = () => this.props.core.publishJson(`motion-switch/${this.state.id}/toggle`);\r\n  handleMotionClick = () => this.props.core.publishJson(`motion-switch/${this.state.id}/motion/toggle`);\r\n\r\n  render() {\r\n    const { state, motionEnabled, name } = this.state;\r\n\r\n    return (\r\n      <Grid item lg={4} md={6} sm={6} xs={12}>\r\n        <ButtonGroup\r\n          variant=\"contained\"\r\n          size=\"large\"\r\n          color={(state && motionEnabled) ? 'primary' : 'default'}\r\n          fullWidth={true}\r\n        >\r\n          <Button\r\n            color={state ? 'primary' : 'default'}\r\n            onClick={this.handleClick}\r\n          >\r\n            {name}\r\n          </Button>\r\n\r\n          <Tooltip title=\"Toggle motion-enabled light\" aria-label=\"toggle\">\r\n            <Button\r\n              color={motionEnabled ? 'primary' : 'default'}\r\n              onClick={this.handleMotionClick}\r\n            >\r\n              <MotionIcon/>\r\n            </Button>\r\n          </Tooltip>\r\n        </ButtonGroup>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MotionSwitch);\r\n"],"sourceRoot":""}