(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{191:function(e,a,t){"use strict";t.r(a);var r=t(12),n=t.n(r),o=t(16),c=t(6),l=t(453),u=t(454),i=t(455),s=t(366),m=t(393),d=t(386),p=t(381),b=t(456),h=t(372),f=t(0),E=t.n(f),v=t(374),y=t(385),g=t(569),j=t(312),k=t(316),O=t(48),w=Object(j.a)(function(e){return{formControl:{marginBottom:e.spacing(2),width:"50%"}}});function x(e){var a,t=e.id,r=e.core,l=e.name,u=e.suffix,i=w(),b=Object(f.useState)("6_hours"),h=Object(c.a)(b,2),j=h[0],k=h[1],O=Object(f.useState)([]),x=Object(c.a)(O,2),C=x[0],S=x[1],_=Object(f.useState)(!1),P=Object(c.a)(_,2),F=P[0],D=P[1],M=Object(f.useState)(null),W=Object(c.a)(M,2),A=W[0],J=W[1];return Object(f.useMemo)(function(){(function(){var e=Object(o.a)(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,r.authenticatedRequest({url:"/variable/".concat(t,"/history?period=").concat(j),responseType:"json",method:"get"});case 4:if(a=e.sent,D(!1),a.data.ok){e.next=8;break}return e.abrupt("return",J("Wrong server response"));case 8:J(null),S(a.data.history),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),D(!1),J("Cannot load history"),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[1,12]])}));return function(){return e.apply(this,arguments)}})()()},[j,t,r]),a=F?E.a.createElement("div",null,E.a.createElement(v.a,null)):A?E.a.createElement(y.a,{bgcolor:"error.main",color:"background.paper",p:2},A):C&&C.length?E.a.createElement(g.e,{aspect:2},E.a.createElement(g.b,{data:C},E.a.createElement(g.g,{dataKey:"date",tickFormatter:function(e){return new Date(1e3*e).toLocaleTimeString()}}),E.a.createElement(g.h,{domain:["dataMin - 5","dataMax + 5"]}),E.a.createElement(g.c,{strokeDasharray:"3 3"}),E.a.createElement(g.f,{labelFormatter:function(e){return new Date(1e3*e).toLocaleString()}}),E.a.createElement(g.d,null),E.a.createElement(g.a,{type:"monotone",dataKey:"value",stroke:"red",name:l,unit:u,isAnimationActive:!1}))):E.a.createElement(y.a,{bgcolor:"text.secondary",color:"background.paper",p:2},"No history for selected period"),E.a.createElement(E.a.Fragment,null,E.a.createElement(s.a,{className:i.formControl},E.a.createElement(m.a,{htmlFor:"historyPeriod"},"Period"),E.a.createElement(d.a,{value:j,onChange:function(e){return k(e.target.value)},inputProps:{name:"historyPeriod",id:"historyPeriod"}},E.a.createElement(p.a,{value:"3_days"},"3 days"),E.a.createElement(p.a,{value:"24_hours"},"24 hours"),E.a.createElement(p.a,{value:"12_hours"},"12 hours"),E.a.createElement(p.a,{value:"6_hours"},"6 hours"),E.a.createElement(p.a,{value:"3_hours"},"3 hours"))),a)}a.default=function(e){var a=e.id,t=e.name,r=e.suffix,n=e.open,o=e.onClose,c=e.core,s=Object(O.a)(),m=Object(k.a)(s.breakpoints.down("sm"));return E.a.createElement(l.a,{open:n,onClose:o,fullScreen:m,fullWidth:!0,maxWidth:"md","aria-labelledby":"variable-dialog-title"},E.a.createElement(u.a,{id:"variable-dialog-title"},"History of ",t),E.a.createElement(i.a,null,E.a.createElement(x,{core:c,id:a,name:t,suffix:r})),E.a.createElement(b.a,null,E.a.createElement(h.a,{onClick:o,color:"primary"},"Close")))}}}]);
//# sourceMappingURL=21.4098fd5b.chunk.js.map