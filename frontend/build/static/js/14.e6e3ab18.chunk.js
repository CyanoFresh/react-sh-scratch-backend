(this["webpackJsonpsh-frontend"]=this["webpackJsonpsh-frontend"]||[]).push([[14,17],{185:function(e,t,n){"use strict";n.r(t),n.d(t,"HISTORY_TYPES",(function(){return r})),n.d(t,"HISTORY_TYPES_LABELS",(function(){return i}));var a,o=n(19),r={RINGING:0,UNLOCKED:1,AUTO_UNLOCKED:2},i=(a={},Object(o.a)(a,r.RINGING,"ringing"),Object(o.a)(a,r.UNLOCKED,"unlocked"),Object(o.a)(a,r.AUTO_UNLOCKED,"auto-unlocked"),a)},192:function(e,t,n){"use strict";n.r(t);var a=n(10),o=n(0),r=n.n(o),i=n(912),c=n(327),u=n(468),s=n.n(u),l=n(382),d=n(171),f=n(185),b=Object(d.a)((function(e){return{close:{padding:e.spacing(.5)}}}));t.default=function(e){var t=e.id,n=e.name,u=e.core,d=e.isRinging,m=b(),O=Object(o.useState)(d),p=Object(a.a)(O,2),E=p[0],g=p[1],v=Object(o.useState)({open:!1,text:null}),j=Object(a.a)(v,2),h=j[0],k=j[1];Object(o.useEffect)((function(){var e=function(e){var t=f.HISTORY_TYPES_LABELS[e?f.HISTORY_TYPES.AUTO_UNLOCKED:f.HISTORY_TYPES.UNLOCKED];g(!1),k({text:"".concat(n," was ").concat(t),open:!0})},a=function(e){var t="Auto-unlock was disabled for ".concat(n);e&&(t="".concat(n," will be auto-unlocked for 10 min")),k({open:!0,text:t})};return u.subscribe("buzzer/".concat(t,"/ringing"),g),u.subscribe("buzzer/".concat(t,"/unlocked"),e),u.subscribe("buzzer/".concat(t,"/auto_unlock"),a),function(){u.unsubscribe("buzzer/".concat(t,"/ringing"),g),u.unsubscribe("buzzer/".concat(t,"/unlocked"),e),u.unsubscribe("buzzer/".concat(t,"/auto_unlock"),a)}}),[t,n,u]);var C=function(){return k({open:!1,text:null})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:h.open,autoHideDuration:5e3,onClose:C,message:h.text,action:[r.a.createElement(c.a,{key:"close","aria-label":"Close",color:"inherit",className:m.close,onClick:C},r.a.createElement(s.a,null))]}),r.a.createElement(i.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:E,message:r.a.createElement("span",{id:"message-id"},n," is ringing"),action:[r.a.createElement(l.a,{key:"undo",color:"secondary",size:"small",onClick:function(){return u.publishJson("buzzer/".concat(t,"/unlock"),!0)}},"UNLOCK")]}))}},468:function(e,t,n){"use strict";var a=n(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),r=(0,a(n(52)).default)(o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=r},912:function(e,t,n){"use strict";var a=n(2),o=n(14),r=n(1),i=n(0),c=n.n(i),u=(n(4),n(3)),s=n(5),l=n(31),d=n(13),f=n.n(d),b=n(22),m=n(11),O=n(44),p=n(36);function E(e){return e.substring(2).toLowerCase()}var g=c.a.forwardRef((function(e,t){var n=e.children,a=e.mouseEvent,o=void 0===a?"onClick":a,r=e.touchEvent,i=void 0===r?"onTouchEnd":r,u=e.onClickAway,s=c.a.useRef(!1),l=c.a.useRef(null),d=c.a.useRef(!1);c.a.useEffect((function(){return d.current=!0,function(){d.current=!1}}),[]);var g=Object(m.a)(l,t),v=c.a.useCallback((function(e){Object(O.a)(g,f.a.findDOMNode(e))}),[g]),j=Object(m.a)(n.ref,v),h=Object(p.a)((function(e){if(!e.defaultPrevented&&d.current)if(s.current)s.current=!1;else if(l.current){var t=Object(b.a)(l.current);t.documentElement&&t.documentElement.contains(e.target)&&!l.current.contains(e.target)&&u(e)}})),k=c.a.useCallback((function(){s.current=!0}),[]);return c.a.useEffect((function(){if(!1!==i){var e=E(i);return document.addEventListener(e,h),document.addEventListener("touchmove",k),function(){document.removeEventListener(e,h),document.removeEventListener("touchmove",k)}}}),[h,k,i]),c.a.useEffect((function(){if(!1!==o){var e=E(o);return document.addEventListener(e,h),function(){document.removeEventListener(e,h)}}}),[h,o]),c.a.createElement(c.a.Fragment,null,c.a.cloneElement(n,{ref:j}))})),v=n(6),j=n(74),h=n(378),k=n(325),C=n(77),L=n(15),x=c.a.forwardRef((function(e,t){var n=e.action,o=e.classes,i=e.className,s=e.message,l=e.role,d=void 0===l?"alert":l,f=Object(a.a)(e,["action","classes","className","message","role"]);return c.a.createElement(k.a,Object(r.a)({component:C.a,variant:"body2",variantMapping:{body1:"div",body2:"div"},role:d,square:!0,elevation:6,className:Object(u.a)(o.root,i),ref:t},f),c.a.createElement("div",{className:o.message},s),n?c.a.createElement("div",{className:o.action},n):null)})),w=Object(s.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(L.b)(e.palette.background.default,t);return{root:Object(o.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(x),T=c.a.forwardRef((function(e,t){var n=e.action,o=e.anchorOrigin,i=(o=void 0===o?{vertical:"bottom",horizontal:"center"}:o).vertical,s=o.horizontal,d=e.autoHideDuration,f=e.children,b=e.classes,m=e.className,O=e.ClickAwayListenerProps,p=e.ContentProps,E=e.disableWindowBlurListener,k=void 0!==E&&E,C=e.message,L=e.onClose,x=e.onEnter,T=e.onEntered,z=e.onEntering,N=e.onExit,R=e.onExited,y=e.onExiting,S=e.onMouseEnter,D=e.onMouseLeave,I=e.open,_=e.resumeHideDuration,P=e.TransitionComponent,M=void 0===P?h.a:P,A=e.transitionDuration,H=void 0===A?{enter:l.b.enteringScreen,exit:l.b.leavingScreen}:A,U=e.TransitionProps,Y=Object(a.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),B=c.a.useRef(),K=c.a.useState(!0),G=K[0],W=K[1],J=c.a.useCallback((function(e){var t=null!=e?e:d;L&&null!=t&&(clearTimeout(B.current),B.current=setTimeout((function(){L&&null!=(null!=e?e:d)&&L(null,"timeout")}),t))}),[d,L]);c.a.useEffect((function(){return I&&J(),function(){clearTimeout(B.current)}}),[I,J]);var F=function(){clearTimeout(B.current)},q=c.a.useCallback((function(){if(null!=d){if(null!=_)return void J(_);J(.5*d)}}),[d,_,J]);return c.a.useEffect((function(){if(!k&&I)return window.addEventListener("focus",q),window.addEventListener("blur",F),function(){window.removeEventListener("focus",q),window.removeEventListener("blur",F)}}),[k,q,I]),!I&&G?null:c.a.createElement(g,Object(r.a)({onClickAway:function(e){L&&L(e,"clickaway")}},O),c.a.createElement("div",Object(r.a)({className:Object(u.a)(b.root,b["anchorOrigin".concat(Object(v.a)(i)).concat(Object(v.a)(s))],m),onMouseEnter:function(e){S&&S(e),F()},onMouseLeave:function(e){D&&D(e),q()},ref:t},Y),c.a.createElement(M,Object(r.a)({appear:!0,in:I,onEnter:Object(j.a)((function(){W(!1)}),x),onEntered:T,onEntering:z,onExit:N,onExited:Object(j.a)((function(){W(!0)}),R),onExiting:y,timeout:H,direction:"top"===i?"down":"up"},U),f||c.a.createElement(w,Object(r.a)({message:C,action:n},p)))))}));t.a=Object(s.a)((function(e){var t={top:8},n={bottom:8},a={justifyContent:"flex-end"},i={justifyContent:"flex-start"},c={top:24},u={bottom:24},s={right:24},l={left:24},d={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(r.a)({},t,Object(o.a)({},e.breakpoints.up("sm"),Object(r.a)({},c,{},d))),anchorOriginBottomCenter:Object(r.a)({},n,Object(o.a)({},e.breakpoints.up("sm"),Object(r.a)({},u,{},d))),anchorOriginTopRight:Object(r.a)({},t,{},a,Object(o.a)({},e.breakpoints.up("sm"),Object(r.a)({left:"auto"},c,{},s))),anchorOriginBottomRight:Object(r.a)({},n,{},a,Object(o.a)({},e.breakpoints.up("sm"),Object(r.a)({left:"auto"},u,{},s))),anchorOriginTopLeft:Object(r.a)({},t,{},i,Object(o.a)({},e.breakpoints.up("sm"),Object(r.a)({right:"auto"},c,{},l))),anchorOriginBottomLeft:Object(r.a)({},n,{},i,Object(o.a)({},e.breakpoints.up("sm"),Object(r.a)({right:"auto"},u,{},l)))}}),{flip:!1,name:"MuiSnackbar"})(T)}}]);